"use strict";function Router(e,n){e.state("test",{url:"/test",templateUrl:"/templates/test.html"}).state("login",{url:"/",templateUrl:"/templates/login.html",controller:"LoginController as login"}).state("register",{url:"/register",templateUrl:"/templates/register.html",controller:"RegisterController as register"}).state("userForm",{url:"/userForm",templateUrl:"/templates/userForm.html",controller:"UserFormController as userForm"}).state("userShow",{url:"/userShow",templateUrl:"/templates/userShow.html",controller:"UserShowController as userShow"}).state("newFriendForm",{url:"/newFriendForm",templateUrl:"/templates/newFriendForm.html",controller:"NewFriendFormController as newFriendForm"}).state("friendIndex",{url:"/friendIndex",templateUrl:"/templates/friendIndex.html",controller:"FriendIndexController as friendIndex"}).state("friendShow",{url:"/friend/:id",templateUrl:"/templates/friendShow.html",controller:"FriendShowController as friendShow"}).state("newEventForm",{url:"/newEventForm",templateUrl:"/templates/newEventForm.html",controller:"NewEventFormController as newEventForm"}).state("eventIndex",{url:"/eventIndex",templateUrl:"/templates/eventIndex.html",controller:"EventIndexController as eventIndex"}).state("eventShow",{url:"/event/:id",templateUrl:"/templates/eventShow.html",controller:"EventShowController as eventShow"}).state("newLocationForm",{url:"/newLocationForm",templateUrl:"/templates/newLocationForm.html",controller:"NewLocationFormController as newLocationForm"}).state("locationIndex",{url:"/locationIndex",templateUrl:"/templates/locationIndex.html",controller:"LocationIndexController as locationIndex"}).state("locationShow",{url:"/location/:id",templateUrl:"/templates/locationShow.html",controller:"LocationShowController as locationShow"}),n.otherwise("/")}function Auth(e){e.loginUrl="/login",e.signupUrl="/register",e.tokenPrefix=""}function RegisterController(e,n,o){function t(){e.signup(r.user).then(function(e){o.localStorage.setItem("token",e.data.token),n.go("userForm")})}var r=this;r.submit=t}function LoginController(e,n,o){function t(){e.login(i.credentials).then(function(){n.go("test")})}function r(o){e.authenticate(o).then(function(e){console.log(e),n.go("test")})}var i=this;i.credentials={},i.submit=t,i.authenticate=r}function EventIndexController(e,n,o){var t=this;t.all=o.query(),console.log("all events",t.all)}function EventShowController(e,n,o,t){var r=this;t.get(o.params,function(e){r.event=e,console.log("this event",r.event)})}function NewEventFormController(e,n,o){function t(){r.newEvent.activities.push(r.activities,r.activities1,r.activities2),r.newEvent.substances.push(r.substances,r.substances1,r.substances2);var e=[],t=[];r.newEvent.whodisliked.forEach(function(n){n&&e.push(n)}),r.newEvent.wholiked.forEach(function(e){e&&t.push(e)}),r.newEvent.whodisliked=e,r.newEvent.wholiked=t,r.newEvent.positives=r.newEvent.positives.split(","),r.newEvent.negatives=r.newEvent.negatives.split(","),console.log("split positives",r.newEvent.positives),console.log("split negatives",r.newEvent.negatives),console.log("new event",r.newEvent),o.save(r.newEvent,function(){n.go("eventIndex")})}var r=this;r.newEvent={},r.activities={name:void 0,type:void 0},r.activities1={name:void 0,type:void 0},r.activities2={name:void 0,type:void 0},r.substances={name:void 0,type:void 0},r.substances1={name:void 0,type:void 0},r.substances2={name:void 0,type:void 0},r.newEvent.activities=[],r.newEvent.substances=[],r.newEvent.friends=[],r.newEvent.wholiked=[],r.newEvent.whodisliked=[],r.submit=t}function Event(e){return new e("/events/:id",{id:"@_id"},{update:{method:"PUT"}})}function Friend(e){return new e("/friends/:id",{id:"@_id"},{update:{method:"PUT"}})}function FriendIndexController(e,n,o,t){var r=this;r.all=t.query(),console.log("all friends",r.all)}function FriendShowController(e,n,o,t){var r=this;t.get(o.params,function(e){r.friend=e,console.log("this friend",r.friend)})}function NewFriendFormController(e,n,o){function t(){r.newFriend.hobbies.push(r.hobbies,r.hobbies1,r.hobbies2),r.newFriend.interests.push(r.interests,r.interests1,r.interests2),r.newFriend.contact=r.contact,r.newFriend.likes=r.newFriend.likes.split(","),r.newFriend.dislikes=r.newFriend.dislikes.split(","),console.log("split likes",r.newFriend.likes),console.log("split dislikes",r.newFriend.dislikes),console.log("new friend",r.newFriend),o.save(r.newFriend,function(){n.go("friendIndex")})}var r=this;r.newFriend={},r.newFriend.hobbies=[],r.newFriend.interests=[],r.contact={email:void 0,phone:void 0},r.hobbies={name:void 0,type:void 0},r.interests={name:void 0,type:void 0},r.hobbies1={name:void 0,type:void 0},r.interests1={name:void 0,type:void 0},r.hobbies2={name:void 0,type:void 0},r.interests2={name:void 0,type:void 0},r.sign={asc:void 0,sun:void 0,moon:void 0,mercury:void 0,venus:void 0},r.newFriend.user=e.getPayload()._id,r.submit=t}function Location(e){return new e("/locations/:id",{id:"@_id"},{update:{method:"PUT"}})}function LocationIndexController(e,n,o){var t=this;t.all=o.query(),console.log("all locations",t.all)}function LocationShowController(e,n,o,t){var r=this;t.get(o.params,function(e){r.location=e,console.log("this location",r.location)})}function NewLocationFormController(e,n,o){function t(){var e=[],t=[],i=[],l=[];r.newLocation.whodisliked.forEach(function(n){n&&e.push(n)}),r.newLocation.wholiked.forEach(function(e){e&&t.push(e)}),r.newLocation.friends.forEach(function(e){e&&i.push(e)}),r.newLocation.events.forEach(function(e){e&&l.push(e)}),r.newLocation.whodisliked=e,r.newLocation.wholiked=t,r.newLocation.friends=i,r.newLocation.events=l,r.newLocation.times=r.times,r.newLocation.positives=r.newLocation.positives.split(","),r.newLocation.negatives=r.newLocation.negatives.split(","),console.log("split positives",r.newLocation.positives),console.log("split negatives",r.newLocation.negatives),console.log("new location",r.newLocation),o.save(r.newLocation,function(){n.go("locationIndex")})}var r=this;r.newLocation={},r.times={opening:void 0,closing:void 0},r.newLocation.friends=[],r.newLocation.events=[],r.newLocation.wholiked=[],r.newLocation.whodisliked=[],r.submit=t}function MainController(e,n,o,t,r,i){function l(){e.logout().then(function(){n.go("friendIndex")})}function s(o,t){c.menuVisible=!1,c.message=null,console.log(t,o),!e.isAuthenticated()&&d.includes(t.name)&&(o.preventDefault(),c.message="You must be logged in to go there!",n.go("login"))}function a(){c.menuVisible=!c.menuVisible}var c=this;c.isLoggedIn=e.isAuthenticated,c.message=null,c.menuVisible=!1,t.get({id:e.getPayload()._id},function(e){c.user=e,console.log("current user",c.user)}),c.allFriends=r.query(),c.allEvents=i.query();var d=[];o.$on("$stateChangeStart",s),c.logout=l,c.toggleMenu=a}function User(e){return new e("/users/:id",{id:"@_id"},{update:{method:"PUT"}})}function UserFormController(e,n,o){function t(){r.user.hobbies.push(r.hobbies),r.user.interests.push(r.interests),r.user.allies=r.allies,r.user.allies=r.enemies,r.user.likes=r.user.likes.split(","),r.user.dislikes=r.user.dislikes.split(",");var e=[],n=[];r.user.allies.forEach(function(n){n&&e.push(n)}),r.user.enemies.forEach(function(e){e&&n.push(e)}),r.user.allies=e,r.user.enemies=n,console.log("data to be saved",r.user,"user object hobbies",r.user.hobbies,"user object interests",r.user.interests,"user object sign",r.user.sign),r.user.$update(function(){console.log("post update your data",r.user),o.go("userShow")})}var r=this;r.hobbies={name:void 0,type:void 0},r.interests={name:void 0,type:void 0},r.sign={asc:void 0,sun:void 0,moon:void 0,mercury:void 0,venus:void 0},r.allies=[],r.enemies=[],r.user=n.get({id:e.getPayload()._id}),r.submit=t}function UserShowController(e,n,o,t){var r=this;t.get({id:e.getPayload()._id},function(e){r.user=e,console.log("showing user",r.user)})}angular.module("FriendManagerApp",["ngAnimate","ngResource","ui.router","satellizer","angular-carousel","chart.js"]).config(Router).config(Auth),Router.$inject=["$stateProvider","$urlRouterProvider"],Auth.$inject=["$authProvider"],angular.module("FriendManagerApp").controller("RegisterController",RegisterController).controller("LoginController",LoginController),RegisterController.$inject=["$auth","$state","$window"],LoginController.$inject=["$auth","$state","User"],angular.module("FriendManagerApp").controller("NewEventFormController",NewEventFormController).controller("EventIndexController",EventIndexController).controller("EventShowController",EventShowController),EventIndexController.$inject=["$auth","$state","Event"],EventShowController.$inject=["$auth","User","$state","Event"],NewEventFormController.$inject=["$auth","$state","Event"],angular.module("FriendManagerApp").factory("Event",Event),Event.$inject=["$resource"],angular.module("FriendManagerApp").factory("Friend",Friend),Friend.$inject=["$resource"],angular.module("FriendManagerApp").controller("FriendIndexController",FriendIndexController).controller("FriendShowController",FriendShowController).controller("NewFriendFormController",NewFriendFormController),FriendIndexController.$inject=["$auth","User","$state","Friend"],FriendShowController.$inject=["$auth","User","$state","Friend"],NewFriendFormController.$inject=["$auth","$state","Friend"],angular.module("FriendManagerApp").factory("Location",Location),Location.$inject=["$resource"],angular.module("FriendManagerApp").controller("NewLocationFormController",NewLocationFormController).controller("LocationIndexController",LocationIndexController).controller("LocationShowController",LocationShowController),LocationIndexController.$inject=["$auth","$state","Location"],LocationShowController.$inject=["$auth","User","$state","Location"],NewLocationFormController.$inject=["$auth","$state","Location"],angular.module("FriendManagerApp").controller("MainController",MainController),MainController.$inject=["$auth","$state","$rootScope","User","Friend","Event"],angular.module("FriendManagerApp").factory("User",User),User.$inject=["$resource"],angular.module("FriendManagerApp").controller("UserFormController",UserFormController).controller("UserShowController",UserShowController),UserFormController.$inject=["$auth","User","$state"],UserShowController.$inject=["$auth","$state","$rootScope","User"];
//# sourceMappingURL=app.js.map
